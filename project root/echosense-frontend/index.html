<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>EchoSense - YouTube â†’ ISL Avatar Demo</title>
  <style>
    body { margin:0; background:#081028; color:#fff; font-family:sans-serif; }
    .container { display:flex; height:100vh; gap:8px; padding:12px; box-sizing:border-box; }
    .left { flex: 6; background:#000; border-radius:8px; padding:8px; display:flex; flex-direction:column; }
    .right { flex: 4; background:#071428; border-radius:8px; padding:8px; display:flex; flex-direction:column; align-items:center; }
    .controls { margin-bottom:8px; display:flex; gap:8px; }
    input[type=text] { flex:1; padding:8px; border-radius:6px; border:1px solid #233; background:#0b1826; color:#fff; }
    button { padding:8px 12px; border-radius:6px; border:none; background:#2f9cff; color:#041; cursor:pointer; }
    #videoFrame { width:100%; height:calc(100% - 60px); border-radius:6px; border:none; background:#000; }
    #avatar-root { width:100%; height:100%; max-height: calc(100% - 60px); display:flex; align-items:center; justify-content:center;}
    #transcript { margin-top:8px; font-size:14px; color:#aee; }
  </style>
</head>
<body>
  <div class="container">
    <div class="left">
      <div class="controls">
        <input id="youtubeInput" type="text" placeholder="Paste YouTube link here" />
        <button onclick="onLoadAndProcess()">Load & Process</button>
      </div>
      <iframe id="videoFrame" src="about:blank" allow="autoplay; encrypted-media; picture-in-picture"></iframe>
    </div>
    <div class="right">
      <div id="avatar-root">
        <!-- Lottie player or image sequence will render here -->
        <div id="lottieContainer" style="width:320px; height:360px"></div>
      </div>
      <div id="transcript"></div>
    </div>
  </div>

  <!-- lottie web from CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.9.6/lottie.min.js"></script>
  <script type="module" src="./src/api.js"></script>
  <script type="module" src="./src/avatar.js"></script>
</body>
</html>
